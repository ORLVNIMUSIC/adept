# Список компаний

Приложение спроектированно с помощью фреймворка [Nextjs](https://nextjs.org/) из соображений бóльшей эффективности процесса разработки. В целом проект может быть перенесен на нативный [Reactjs](https://reactjs.org/) без каких-либо проблем.

## Запуск проекта

Клонируйте репозиторий на свое устройство и установите все необходимые пакеты с помощью вашего пакетного менеджера (npm используется в качестве примера):

```bash
npm i
```

После установки зависимостей можно запустить приложение в dev моде с помощью команды:

```bash
npm run dev
```

**Или** соберите проект с помощью:

```bash
npm run build
```

и запустите в prod моде с помощью:

```bash
npm run start
```

## О проекте

### Таблицы

Таблица `Список компаний` слева содержит данные о компаниях. У каждой компании можно менять значения `Название компании` и `Адрес` (`Количество сотрудников` высчитывается автоматически) - данные в сторе обновляются автоматически с каждым изменением строк.

При выборе чекбокса напротив желаемой компании **_(ОДНОЙ)_** вся строка подствечивается цветом и формируется вторая таблица `Сотрудники компании [Название компании]`.

При выборе более чем одной компании таблица `Сотрудники компании` расформировывается. Также есть возможность выбрать все видимые в данный момент компании (подробнее о выборе всех элементов в сторе позднее).

После выбора желаемых компаний можно удалить выбранные компании из стора **(сотрудники соответствующих компаний так же удалаются из стора)**. Также имеется возможность создать новую компанию, указав поля `Название компании` и `Адрес` (`Количество сотрудников` по умолчанию у новой компании равно 0 и не редактируемо).

---

Таблица `Сотрудники компании [Название компании]` справа содержит данные о сотрудниках выбранной компании (`Фамилия`, `Имя`, `Должность`). Функционал данной таблицы идентичен функционалу таблиы `Список компаний`, за исключением того, что **все** поля в данной таблице редактируемы.

### Динамическая пагинация (подгрузка данных)

Для таблицы `Сотрудники компании [Название компании]` реализован механизм динамической подгрузки данных при скроллинге. По умолчанию при инициализации таблицы видны только первые 20 элеметов в списке.

При скроллинге вниз по списку при определенной позиции скроллбара происходит подгрузка следующих 20 элементов списка и даннный алгоритм может продолжаться до тех пор, пока не будет виден весь список.

**_ВАЖНО:_**
При нажатии на чекбок для выбора всех элементов таблицы, выбираются только те из них, которые загруженны в элемент в данный момент.

> Следовательно, если при начальной загрузке таблицы выбрать все элементы и удалить их, то удалятся только первые 20 элементов.

Данный механизм так же может быть перенесен на таблицу `Список компаний`.
